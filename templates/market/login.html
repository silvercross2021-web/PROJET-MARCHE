{% extends 'market/base.html' %}
{% load static %}

{% block title %}Connexion - e-Marché | Mairie de Treichville{% endblock %}

{% block content %}
<div class="login-split-container">
    <!-- Côté gauche - Formulaire -->
    <div class="login-left-side">
        <div class="login-content">
            <div class="login-logo-header">
                <div class="login-logo">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="7" width="16" height="13" stroke="white" stroke-width="2" fill="none"/>
                        <line x1="4" y1="11" x2="20" y2="11" stroke="white" stroke-width="2"/>
                        <line x1="4" y1="15" x2="20" y2="15" stroke="white" stroke-width="2"/>
                        <line x1="8" y1="7" x2="8" y2="4" stroke="white" stroke-width="2"/>
                        <line x1="16" y1="7" x2="16" y2="4" stroke="white" stroke-width="2"/>
                    </svg>
                </div>
                <h1 class="login-title">e-Marché</h1>
            </div>
            
            <div class="login-subtitle">
                <p class="subtitle-text">Bienvenue</p>
                <h2 class="main-title">Connectez-vous à e-Marché</h2>
            </div>
            
            {% if messages %}
                {% for message in messages %}
                    <div class="alert-message">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            
            <form class="login-form" method="post" action="{% url 'login' %}">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="identifiant">E-mail</label>
                    <div class="input-wrapper">
                        <input 
                            type="text" 
                            id="identifiant" 
                            name="identifiant" 
                            class="form-input" 
                            placeholder="example@email.com" 
                            required
                        >
                        <svg class="input-icon-right" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="#718096" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 6L12 13L2 6" stroke="#718096" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-wrapper">
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            class="form-input" 
                            placeholder="••••••••" 
                            required
                        >
                        <svg class="input-icon-right password-toggle" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z" stroke="#718096" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="12" cy="12" r="3" stroke="#718096" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
                
                <button type="submit" class="btn-login">Se connecter</button>
            </form>
            
            <div class="login-footer-text">
                <p>Vous avez déjà un compte ? <a href="{% url 'login' %}">Se connecter</a></p>
            </div>
        </div>
    </div>
    
    <!-- Côté droit - Design abstrait -->
    <div class="login-right-side">
        <img
            class="login-side-image"
            src="https://banquealimentaire.ci/wp-content/uploads/2025/05/WhatsApp-Image-2025-05-12-at-15.54.06-1024x768.jpeg"
            alt=""
        >
    </div>
</div>

<script>
    // Animation au chargement de la page
    document.addEventListener('DOMContentLoaded', function() {
        const leftSide = document.querySelector('.login-left-side');
        const rightSide = document.querySelector('.login-right-side');
        
        // Ajouter les classes d'animation
        leftSide.classList.add('slide-in-left');
        rightSide.classList.add('slide-in-right');
    });
</script>
{% endblock %}


